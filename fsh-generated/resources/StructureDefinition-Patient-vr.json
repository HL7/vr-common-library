{
  "resourceType": "StructureDefinition",
  "id": "Patient-vr",
  "url": "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/Patient-vr",
  "name": "PatientVitalRecords",
  "title": "Patient - Vital Records",
  "status": "draft",
  "description": "This abstract Patient profile includes common extensions and slicing used across vital records.",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "cda",
      "uri": "http://hl7.org/v3/cda",
      "name": "CDA (R2)"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    },
    {
      "identity": "v2",
      "uri": "http://hl7.org/v2",
      "name": "HL7 v2 Mapping"
    },
    {
      "identity": "loinc",
      "uri": "http://loinc.org",
      "name": "LOINC code for the element"
    }
  ],
  "kind": "resource",
  "abstract": true,
  "type": "Patient",
  "baseDefinition": "http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Patient.extension:birthPlace",
        "path": "Patient.extension",
        "sliceName": "birthPlace",
        "short": "Place of Birth for the patient should include the state and/or country",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/patient-birthPlace"
            ]
          }
        ]
      },
      {
        "id": "Patient.extension:birthPlace.value[x].city.extension:cityCode",
        "path": "Patient.extension.value[x].city.extension",
        "sliceName": "cityCode",
        "definition": "Numeric code in accordance with the NCHS Instruction Manual Part 8, Vital Records Geographic Classification, 2014 (https://www.cdc.gov/nchs/data/dvs/IMP8_2014.pdf) and https://ftp.cdc.gov/pub/health_Statistics/nchs/Manuals/Mortality/PLACE_CODES.txt.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/CityCode"
            ]
          }
        ]
      },
      {
        "id": "Patient.extension:birthPlace.value[x].district.extension:districtCode",
        "path": "Patient.extension.value[x].district.extension",
        "sliceName": "districtCode",
        "label": "County code",
        "short": "County code",
        "definition": "Numeric code in accordance with the NCHS Instruction Manual Part 8, Vital Records Geographic Classification, 2014 (https://www.cdc.gov/nchs/data/dvs/IMP8_2014.pdf) and https://ftp.cdc.gov/pub/health_Statistics/nchs/Manuals/Mortality/PLACE_CODES.txt.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/DistrictCode"
            ]
          }
        ]
      },
      {
        "id": "Patient.extension:birthPlace.value[x].state",
        "path": "Patient.extension.value[x].state",
        "binding": {
          "strength": "required",
          "valueSet": "http://hl7.org/fhir/us/vr-common-library/ValueSet/ValueSet-states-territories-provinces-vr"
        }
      },
      {
        "id": "Patient.extension:birthPlace.value[x].country",
        "path": "Patient.extension.value[x].country",
        "binding": {
          "strength": "required",
          "valueSet": "http://hl7.org/fhir/us/vr-common-library/ValueSet/ValueSet-birthplace-country-vr"
        }
      },
      {
        "id": "Patient.identifier",
        "path": "Patient.identifier",
        "slicing": {
          "discriminator": [
            {
              "type": "pattern",
              "path": "type"
            }
          ],
          "description": "Slice based on ID type",
          "ordered": false,
          "rules": "open"
        }
      },
      {
        "id": "Patient.identifier:MRN",
        "path": "Patient.identifier",
        "sliceName": "MRN",
        "short": "Medical Record Number",
        "min": 0,
        "max": "*"
      },
      {
        "id": "Patient.identifier:MRN.type",
        "path": "Patient.identifier.type",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "MR",
              "system": "http://terminology.hl7.org/CodeSystem/v2-0203"
            }
          ]
        }
      },
      {
        "id": "Patient.identifier:SSN",
        "path": "Patient.identifier",
        "sliceName": "SSN",
        "short": "SSN if available and appropriate to send",
        "min": 0,
        "max": "1"
      },
      {
        "id": "Patient.identifier:SSN.type",
        "path": "Patient.identifier.type",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "SS",
              "system": "http://terminology.hl7.org/CodeSystem/v2-0203"
            }
          ]
        }
      },
      {
        "id": "Patient.identifier:SSN.system",
        "path": "Patient.identifier.system",
        "patternUri": "http://hl7.org/fhir/sid/us-ssn"
      },
      {
        "id": "Patient.name",
        "path": "Patient.name",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "use"
            }
          ],
          "rules": "open"
        }
      },
      {
        "id": "Patient.name.use",
        "path": "Patient.name.use",
        "min": 1
      },
      {
        "id": "Patient.name.family",
        "path": "Patient.name.family",
        "short": "When child not named use code \"unknown\"",
        "min": 1
      },
      {
        "id": "Patient.name.family.extension:dataAbsentReason",
        "path": "Patient.name.family.extension",
        "sliceName": "dataAbsentReason",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/data-absent-reason"
            ]
          }
        ]
      },
      {
        "id": "Patient.name.given",
        "path": "Patient.name.given",
        "short": "When child not named use code \"unknown\""
      },
      {
        "id": "Patient.name.given.extension:dataAbsentReason",
        "path": "Patient.name.given.extension",
        "sliceName": "dataAbsentReason",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/data-absent-reason"
            ]
          }
        ]
      },
      {
        "id": "Patient.name:currentLegalName",
        "path": "Patient.name",
        "sliceName": "currentLegalName",
        "short": "current legal name",
        "min": 0,
        "max": "1"
      },
      {
        "id": "Patient.name:currentLegalName.use",
        "path": "Patient.name.use",
        "min": 1,
        "fixedCode": "official"
      },
      {
        "id": "Patient.name:currentLegalName.family",
        "path": "Patient.name.family",
        "min": 1
      },
      {
        "id": "Patient.name:namePriorToFirstMarriage",
        "path": "Patient.name",
        "sliceName": "namePriorToFirstMarriage",
        "short": "Name prior to first marriage",
        "min": 0,
        "max": "1"
      },
      {
        "id": "Patient.name:namePriorToFirstMarriage.use",
        "path": "Patient.name.use",
        "min": 1,
        "fixedCode": "maiden"
      },
      {
        "id": "Patient.name:namePriorToFirstMarriage.family",
        "path": "Patient.name.family",
        "min": 1
      },
      {
        "id": "Patient.birthDate.extension:partialDate",
        "path": "Patient.birthDate.extension",
        "sliceName": "partialDate",
        "short": "partialDate",
        "definition": "Alternative component representation of partial date.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/ExtensionPartialDateVitalRecords"
            ]
          }
        ]
      },
      {
        "id": "Patient.birthDate.extension:datePartAbsentReason",
        "path": "Patient.birthDate.extension",
        "sliceName": "datePartAbsentReason",
        "short": "Indicates reason for missing data on either the birthDate or the birthTime.",
        "definition": "Indicates reason for missing data on either the birthDate or the birthTime.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/ExtensionDatePartAbsentReasonVitalRecords"
            ]
          }
        ]
      },
      {
        "id": "Patient.birthDate.extension:birthTime",
        "path": "Patient.birthDate.extension",
        "sliceName": "birthTime",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/patient-birthTime"
            ]
          }
        ]
      },
      {
        "id": "Patient.birthDate.extension:bypassEditFlag",
        "path": "Patient.birthDate.extension",
        "sliceName": "bypassEditFlag",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/BypassEditFlag"
            ]
          }
        ]
      },
      {
        "id": "Patient.birthDate.extension:bypassEditFlag.value[x]",
        "path": "Patient.birthDate.extension.value[x]",
        "short": "To reflect the relevant edit possibilities for date of birth.",
        "binding": {
          "strength": "required",
          "valueSet": "http://hl7.org/fhir/us/vr-common-library/ValueSet/ValueSet-mothers-date-of-birth-edit-flags-vr",
          "description": "Date of Birth Edit Flags (NCHS)"
        }
      },
      {
        "id": "Patient.address.extension:withinCityLimitsIndicator",
        "path": "Patient.address.extension",
        "sliceName": "withinCityLimitsIndicator",
        "short": "Used to indicate whether or not an address is within city limits.",
        "definition": "Used to indicate whether or not an address is within city limits.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/Extension-within-city-limits-indicator-vr"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Patient.address.extension:predir",
        "path": "Patient.address.extension",
        "sliceName": "predir",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/PreDirectional"
            ]
          }
        ]
      },
      {
        "id": "Patient.address.extension:stnum",
        "path": "Patient.address.extension",
        "sliceName": "stnum",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/StreetNumber"
            ]
          }
        ]
      },
      {
        "id": "Patient.address.extension:stname",
        "path": "Patient.address.extension",
        "sliceName": "stname",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/StreetName"
            ]
          }
        ]
      },
      {
        "id": "Patient.address.extension:stdesig",
        "path": "Patient.address.extension",
        "sliceName": "stdesig",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/StreetDesignator"
            ]
          }
        ]
      },
      {
        "id": "Patient.address.extension:postdir",
        "path": "Patient.address.extension",
        "sliceName": "postdir",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/PostDirectional"
            ]
          }
        ]
      },
      {
        "id": "Patient.address.extension:unitnumber",
        "path": "Patient.address.extension",
        "sliceName": "unitnumber",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/UnitOrAptNumber"
            ]
          }
        ]
      },
      {
        "id": "Patient.address.city.extension:cityCode",
        "path": "Patient.address.city.extension",
        "sliceName": "cityCode",
        "label": "City Code",
        "short": "City Code",
        "definition": "Numeric code from in accordance with the NCHS Instruction Manual Part 8, Vital Records Geographic Classification, 2014 (https://www.cdc.gov/nchs/data/dvs/IMP8_2014.pdf) and https://ftp.cdc.gov/pub/health_Statistics/nchs/Manuals/Mortality/PLACE_CODES.txt.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/CityCode"
            ]
          }
        ]
      },
      {
        "id": "Patient.address.district.extension:districtCode",
        "path": "Patient.address.district.extension",
        "sliceName": "districtCode",
        "label": "County code",
        "short": "County code",
        "definition": "Numeric code in accordance with the NCHS Instruction Manual Part 8, Vital Records Geographic Classification, 2014 (https://www.cdc.gov/nchs/data/dvs/IMP8_2014.pdf) and https://ftp.cdc.gov/pub/health_Statistics/nchs/Manuals/Mortality/PLACE_CODES.txt.",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/vr-common-library/StructureDefinition/DistrictCode"
            ]
          }
        ]
      },
      {
        "id": "Patient.address.state",
        "path": "Patient.address.state",
        "binding": {
          "strength": "required",
          "valueSet": "http://hl7.org/fhir/us/vr-common-library/ValueSet/ValueSet-states-territories-provinces-vr"
        }
      },
      {
        "id": "Patient.address.country",
        "path": "Patient.address.country",
        "binding": {
          "strength": "required",
          "valueSet": "http://hl7.org/fhir/us/vr-common-library/ValueSet/ValueSet-residence-country-vr"
        }
      }
    ]
  }
}
